spring:
  # БД для тестов
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # JPA
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        generate_statistics: true

  # Flyway отключен
  flyway:
    enabled: false

  # Shell ПОЛНОСТЬЮ отключаем
  shell:
    interactive: false
    noninteractive: true
    # Отключаем все встроенные команды
    command:
      version:
        enabled: false
      help:
        enabled: false
      stacktrace:
        enabled: false
      clear:
        enabled: false
      script:
        enabled: false
      completion:
        enabled: false
    # Отключаем историю
    history:
      enabled: false

  # Важно: без веб-сервера
  main:
    web-application-type: none
    banner-mode: off

# Логирование
logging:
  level:
    # Spring Shell - только ошибки
    org.springframework.shell: ERROR

    # Выключаем лишние логи
    org.springframework.boot: WARN
    org.springframework.context: WARN
    org.springframework.transaction: INFO

    # SQL логи
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.hibernate.stat: DEBUG

    # Ваше приложение
    ru.otus.hw: DEBUG

    # Выключаем
    org.flywaydb: OFF
    org.springframework.jdbc: OFF

  pattern:
    console: "%d{HH:mm:ss} [%thread] %-5level %logger{20} - %msg%n"